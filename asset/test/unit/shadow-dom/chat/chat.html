<?php
/**
 * unit-test:/unit/shadow-dom/chat/chat.html
 *
 * @creation  2018-10-16
 * @version   1.0
 * @package   unit-test
 * @author    Tomoaki Nagahara <tomoaki.nagahara@gmail.com>
 * @copyright Tomoaki Nagahara All right reserved.
 */
?>
<sdom name="chat">
	<p>Please leave comment</p>
	<form name="chat" class="OP">
		<input type="text" name="nickname" value="" />
		<input type="text" name="comment"  value="" />
		<button disabled=" form.chat.nickname.value.length == 0 "> submit </button>
	</form>
	<hr/>
	<div for="this.json.chat">
		<div>
			<span>{ nickname }</span>
			<span>{ comment  }</span>
		</div>
	</div>
	<style>
	chat p {
		color: red;
	}
	</style>
	<script>
	//	...
	function onInsert(){
		//	...
		var sdom_name = this.getAttribute('sdom-name');
		var idnt_name = this.getAttribute('idnt-name');

		//	...
		var url  = 'testcase:/api/chat/load';
		var data = {};

		//	...
		$OP.Ajax.Post(url, data, function(json){

			D(json);

			//	Set result of json.
			var sdom = $OP.SDOM.Get(sdom_name, idnt_name);
				sdom.Json('chat', json.result);
				sdom.Update();

		}, function(e){
			console.Error(e);
		});
	};

	//	...
	function onUpdate(){
		//	function onUpdate()
	};

	//	...
	function onUpdated(){
		//	function onUpdate()
	};

	//	...
	function onDelete(){
		//	function onDelete()
	};

	//	...
	function onDeleted(){
		//	function onDelete()
	};
	</script>
</sdom>
