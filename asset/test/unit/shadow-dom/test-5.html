<?php
/**
 * unit-test:/unit/shadow-dom/test-5.html
 *
 * @creation  2018-09-19
 * @version   1.0
 * @package   unit-test
 * @author    Tomoaki Nagahara <tomoaki.nagahara@gmail.com>
 * @copyright Tomoaki Nagahara All right reserved.
 */
?>
<hr/>
<app name="main"></app>
<hr/>
<sdom name="app">
	<p if="{ true }" >Insert is <span if="{ true }">successful</span><span if="{ false }">failure</span></p>
	<p if="{ false }">If function was failure.</p>
	<div for="{ this.json }" json='["apple","berry","cacao"]'>
		<item name="{value}">{ index }, { value }</item>
	</div>
</sdom>
<sdom name="item">
	<span onclick="ajax">[ do ajax ! ]</span>
	<style>
	span {
		border: 1px solid black;
	};
	</style>
	<script>
	function ajax(){
		//	...
		var url  = $OP.Path.Convert('testcase:/api');
		var data = {};
			data.ping = $OP.Date.Datetime();
		//	...
		$OP.Ajax.Post(url, data, function(json){
				D(json);
			}, function(){
				console.error(url, data);
			});
	};
	</script>
</sdom>
<style>
</style>
<script>
//	...
<?php include('test-5-sdom.js') ?>

//	...
$OP.Path.Set('testcase', '<?= ConvertPath('testcase:/') ?>');

//	...
$app  = $OP.SDOM.Create('app');
$item = $OP.SDOM.Create('item');

//	...
$app_main   = $app.Insert('main');
$item_apple = $item.Insert('apple');
$item_berry = $item.Insert('berry');
$item_cocoa = $item.Insert('cacao');

</script>
